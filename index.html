<!DOCTYPE html>
<html lang="en">
<head>
    <title>MapBox + Weather Data</title>
    <!--Google Analytics-->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-72688808-7', 'auto');
      ga('send', 'pageview');

    </script>
    

    <script src="https://code.jquery.com/jquery-2.2.2.min.js" integrity="sha256-36cp2Co+/62rEAAYHLmRCPIych47CvdM+uTBJwSzWjI=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script><!-- MathJAX -->
    <script src="js/parallax.js"></script><!-- Parallax Banner -->
    <script src="js/navbar.hide.js"></script><!-- Hide Navbar -->
    <script src="js/scroll.js"></script><!-- Affix Sidebar/Scroll Functions -->

    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Coda:400,800' rel='stylesheet' type='text/css'><!-- Google Font for Title -->
    <link rel="stylesheet" type="text/css" href="css/cdup_tutorial.css"><!-- Custom Theme for know.data tutorial -->

    <!-- Syntax Highlighting -->
    <!-- Support for the following languages: -->
    <!-- Apache, Bash, C#, C++, CSS, CoffeeScript, Device Tree, Diff, HTML, XML, HTTP, Ini, JSON, Java, JavaScript, Makefile, Markdown, Nginx, Objective-C, PHP, Perl, Python, Ruby, SQL, Fortran, Julia, Lisp, Lua, Mathematica, Matlab, Python-Profile, R, Scilab, Scala, Stata, Swift -->
    <link rel="stylesheet" type="text/css" href="css/styles/github.css"><!-- Style for highlighting Code: Default to Github -->
    <script src="js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script><!-- Activate Code Highlighting -->

        
</head>

<body>


<!--NavBar-->
    <nav id='navbar' class="nav navbar-default navbar-fixed-top navbar-border"><!-- Navbar -->
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#collapse-links" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand navbar-color" href="https://commerce.gov/datausability"><strong>Data Usability</strong></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="collapse-links">
                <ul class="nav navbar-nav navbar-color">
                    <li class="disclaimer"><a href="https://commerce.gov/datausability">a project by Commerce Data Service</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right navbar-color">
                    <li><a href="https://www.commerce.gov/datausability/">Index</a></li>
                    <li><a href="https://www.mapbox.com/">MapBox Research</a></li>
                </ul>
            </div><!-- navbar-collapse -->
        </div><!-- container-fluid -->
    </nav>

    <section class="scroll">
        <div class="scroll-overlay ">
            <div class="title headtext">
                <h1><span class="title-line" style="font-size:150%;">WEATHER DATA FOR WEB MAPS</span></h1>
                <h4><span class="title-line">USING MAPBOX AND OPEN SOURCE TOOLS TO MAP ATMOSPHERIC WATER</span></h4>
                <h5><span class="title-line">BY DAMON BURGETT, GEOGRAPHER, MAPBOX AND JEFF CHEN, CHIEF DATA SCIENTIST, US DEPT. OF COMMERCE</span></h5>
            </div>
        </div>
    </section>

<!--header-->
    <section>
  
      <div class="container-fluid content">
            <div class="row">
                
                <div id='' class="hidden-xs hidden-sm col-lg-4 col-md-4">
                    <a href="https://commerce.gov/dataservice"><img class="footlogo" width="160px"src="img/CDS-horizontal-v2.jpg"/></a>
                    <a href="https://www.mapbox.com/"><img class="footlogo" width="160px"src="img/logo.png"/></a> 
                </div>

                <div id='content' class="col-lg-6 col-md-6">
                    <em>As part of the <a href="https://www.commerce.gov/datausability/">Commerce Data Usability Project</a>, Zillow in collaboration with the <a href="https://www.commerce.gov/dataservice/">Commerce Data Service</a> has created a tutorial that merges American Community Service data with Zillow public data to provide a better look at housing affordability for protective service workers. If you have question, feel free to reach out to the Commerce Data Service at <a href="mailto:DataUsability@doc.gov">DataUsability@doc.gov</a>.</em>
                </div>

            </div>
            <hr>
            
            <br>

            <div class="row">
                <div id='content' class="col-lg-10 col-md-10"><!-- Content -->

                  <section id='intro'>
                    <h2 class="sectionhead">Atmospheric Rivers (AR) are narrow regions in the atmosphere that transport water across the world.</h2>
                    <p>When it comes to buying a house, there is a lot more to consider than just the sticker price. Wages and salaries vary widely across the country, including within specific occupations, as does the share of household income local residents are accustomed to dedicating to housing costs each month. At one extreme, some places with low housing costs might appear to be very affordable, but incomes might also be much lower than elsewhere; at the other extreme, some places that appear to be extremely expensive when looking at prices, might be more manageable as a result of relatively high wages and salaries.</p>  

                    <p>How do we know when moisture is moving our way? Among the many meteorological indicators that are collected and modeled by the National Oceanic Atmospheric Administration (NOAA) is Precipitable Water (PWAT), which is the amount of water that can be extracted from the entire overlying atmosphere over a particular location on the surface of the Earth. PWAT is typically measured in inches, millimeters or kg/m<sup>2</sup>. It is a key measure of the available &#34;fuel&#34; for the storms in the atmosphere and an estimate for how much rain or snow could be produced from those storms. Thus, when PWAT values are high, the atmosphere is laden with moisture and has the potential to create storms with large amounts of precipitation whereas low values indicate the atmosphere is relatively dry and it is unlikely to produce significant amounts of rainfall or snowfall.</p>
                    
                    <p><img src="https://cloud.githubusercontent.com/assets/5084513/12313587/ac86d808-ba1d-11e5-9405-e1597f9db8a6.png" alt="image"></p>
                    
                    <p>Beyond its utility, PWAT is a very striking weather variable. The complex swirling and eddying patterns bring alive atmospheric processes, and are a beautiful liquid analog to the more esoteric variable that they describe. Combining these data with reference information - coastlines, political borders, and terrain - helps to paint a clearer picture of earth surface and atmospheric interactions on our planet.</p>
                    
                    <p>It&#39;s helpful to keep in mind that PWAT alone does not indicate to what extent certain atmospheric processes, such as thunderstorms, will be able to extract the water from the atmosphere, but it is a measure of the potential for such precipitation through those processes. Nonetheless, it&#39;s a critical measure collected by satellite instruments and used for producing NOAA&#39;s weather forecasts.</p>
                  </section>

                  <section id="code">
                      <h2 class="sectionhead">Getting Started</h2>
                      <p>This tutorial is the first in a two-part series that will guide you through the steps to visualize <a href="http://nomads.ncep.noaa.gov">NOAA NOMADS</a> data. Part 1 covers processing and visualization of PWAT data from the <a href="http://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_0p25.pl">0.25 degree Global Forecast System (GFS)</a>. As atmospheric rivers are dynamic, Part 2 will discuss how to produce a video-based animated map of this data that enables discovery of complex temporal patterns.</p>
                      <p>To get started quickly, the code for this tutorial can be found at the following <a href="Github repo]([INSERT LINK]) ([INSERT LINK])">Github Repository</a>.</p>
                  </section>

                  <section id="step1">
                      <h2 class="subsection">Step 1: Preliminaries</h2>
                      <h4>Libraries and Utilities</h4>
                      <p>We&#39;ll be using the following tools to wrangle the weather model output files:</p>
                      <ul>
                      <li><strong><a href="http://www.gdal.org/">GDAL</a></strong>: Translator library for raster and vector geospatial data formats;</li>
                      <li><strong><a href="https://github.com/mapbox/rasterio">rasterio</a></strong>: Clean and fast and geospatial raster I/O for Python programmers who use Numpy;</li>
                      <li><strong><a href="https://github.com/mapbox/grib-doctor">gribdoctor</a></strong>: Utilities for handling quirks of General Regularly-distributed Information in Binary form (grib) files in GIS applications. Grib data is a concise data format commonly used in meteorology to store historical and forecast weather data which can looked at using software applications.</li>
                      <li><strong><a href="https://www.mapbox.com/mapbox-studio/">Mapbox Studio</a></strong>: A map design platform for vector-based web maps.</li>
                      </ul>
                      <p>You should be able to find install instructions for all of these on their respective web pages.</p>
                  </section>

                  <section id="step2">
                      <h2 class="subsection">Step 2: Get the data</h2>
                      <p>The <a href="http://nomads.ncep.noaa.gov">NOAA NOMADS</a> website provides access to a myriad array of weather prediction data. We&#39;ll be working with precipitable water (PWAT) data from the <a href="http://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_0p25.pl">0.25 degree Global Forecast System (GFS)</a>. There is a lot of data in the system, so we&#39;ll guide you through how to find the URL that will enable you to download the right data.</p>
                      <p>As can be seen in this file list on the NOMADS site, there are multiple prediction times for each dataset corresponding to when the model has run, each of which allows access to a number of variables for a large number of atmospheric levels at various intervals from when the model has run. To start, let&#39;s select the first file in the list.</p>
                      <p><img src="img/screencap1.jpg" alt="image"></p>
                      <p>For each file, a wizard page allows users to select the appropriate conditions. We&#39;ll need to check off &#39;PWAT&#39; in the section labeled &#39;Select the variables desired&#39;, the subregion as well as the handy checkbox at the bottom that creates a URL for &#34;web programming&#34; - we&#39;ll be using a URL constructed from this.</p>
                      <p><img src="img/screencap2.jpg" alt="image"></p>
                      <p>For precipitable water (PWAT) at all levels, we have the following URL - note that the URL will change with the date, so make sure to construct your own:</p>
                      <pre><code><span class="hljs-keyword">http</span>://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_0p25.pl?<span class="hljs-built_in">file</span>=gfs.t12z.pgrb2<span class="hljs-number">.0</span>p25.f000&amp;all_lev=<span class="hljs-command"><span class="hljs-keyword">on</span>&amp;<span class="hljs-title">var_PWAT</span>=<span class="hljs-title">on</span>&amp;<span class="hljs-title">leftlon</span>=<span class="hljs-title">0</span>&amp;<span class="hljs-title">rightlon</span>=<span class="hljs-title">360</span>&amp;<span class="hljs-title">toplat</span>=<span class="hljs-title">90</span>&amp;<span class="hljs-title">bottomlat</span>=-<span class="hljs-title">90</span>&amp;<span class="hljs-title">dir</span>=%<span class="hljs-title">2Fgfs</span><span class="hljs-number">.2016011212</span></span></code></pre>
                      <p>Let&#39;s download this file to our working directory as &#34;raw.grib2&#34; using <code>wget</code>. Alternatively, you can directly download from the NOMADS web interface.</p>
                      <pre><code>wget <span class="hljs-keyword">http</span>://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_0p25.pl?<span class="hljs-built_in">file</span>=gfs.t12z.pgrb2<span class="hljs-number">.0</span>p25.f000&amp;all_lev=<span class="hljs-command"><span class="hljs-keyword">on</span>&amp;<span class="hljs-title">var_PWAT</span>=<span class="hljs-title">on</span>&amp;<span class="hljs-title">leftlon</span>=<span class="hljs-title">0</span>&amp;<span class="hljs-title">rightlon</span>=<span class="hljs-title">360</span>&amp;<span class="hljs-title">toplat</span>=<span class="hljs-title">90</span>&amp;<span class="hljs-title">bottomlat</span>=-<span class="hljs-title">90</span>&amp;<span class="hljs-title">dir</span>=%<span class="hljs-title">2Fgfs</span><span class="hljs-number">.2016011212</span> -<span class="hljs-title">O</span> <span class="hljs-title">raw</span>.<span class="hljs-title">grib2</span></span></code></pre>
                      <p>You should now have a one band <code>grib2</code> depicting PWAT for the date and time that you selected. Open this in a desktop GIS system such as <a href="http://www.qgis.org/">QGIS</a> and you should see the following:</p><img src="https://cloud.githubusercontent.com/assets/5084513/12276750/5fc8b3ca-b92c-11e5-8332-9460e5655074.png" alt="image">
                  </section>

                  <section id="step3">
                      <h2 class="subsection">Step 3: Geoprocessing</h2>
                      <h4>Converting to global grib using <code>gribdoctor</code></h4>
                      <p>A quirk of these grib files are their extent: a global, equirectangular raster with an origin of -(cellsize / 2), all the way around the world, crossing the antimeridian, to 360 - (cellsize / 2). To more easily process the gribs, we created <a href="https://github.com/mapbox/grib-doctor">gribdoctor</a> - a project that is still under development - which (a) upsamples the data by a factor of 2, (b) splits at the antimeridian, and (c) splices the data onto the other side to make a -180 to 180 extent dataset. This is crucial to be able to work with the Mapbox stack. Here is the command:</p>
                      <pre><code>gribdoctor smoosh -dev -uw &lt;input&gt;<span class="hljs-class">.grib2</span> &lt;output&gt;<span class="hljs-class">.tif</span></code></pre>
                      <ul>
                      <li><code>gribdoctor smoosh</code> is the command + subcommand used to perform this operation;</li>
                      <li><code>-dev -uw</code> are input options for <code>gribdoctor</code> indicating we want to utilize <code>-dev</code> functionality to automatically detect if it is the right spatial reference, and <code>-uw</code> to &#34;unwrap&#34; the raster to an -180/180 extent;</li>
                      </ul>
                      <p>For our data:</p>
                      <pre><code>gribdoctor smoosh -dev -uw raw<span class="hljs-class">.grib2</span> unwrap<span class="hljs-class">.tif</span></code></pre>
                      <p>After running <code>gribdoctor</code>, you should see a files that looks like the following (open in a GIS or other <code>GeoTIFF</code> viewer):</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12286506/6bae416c-b979-11e5-8eeb-31fa137ca8b1.png" alt="image"></p>
                      <p>Notice how the extent in the x-dimension is now -180 to 180, which will work in Mapbox web maps.</p>
                      <h4><a id="Warp_to_Web_Mercator_89"></a>Warp to Web Mercator</h4>
                      <p>Mapbox Studio utilizes the web mercator projection. In order to integrate the PWAT imagery with street and terrain data, we will need to warp our input data into this projection. Here is the command in <code>parallel</code>:</p>
                      <pre><code>gdalwarp -t_srs EPSG:<span class="hljs-number">3857</span> -r BILINEAR &lt;input&gt;<span class="hljs-class">.tif</span> &lt;output&gt;<span class="hljs-class">.tif</span></code></pre>
                      <ul>
                      <li><code>gdalwarp</code> is the command used;</li>
                      <li><code>-t_srs EPSG:3857</code> is the <a href="http://spatialreference.org/ref/sr-org/7483/">EPSG code for web mercator</a>;</li>
                      <li><code>-r BILINEAR</code> specifies to use bilinear resampling in this operation. Because these data are of a continuous nature, we want to use this method. The default, nearest neighbor, will leave artifacts in the output data.</li>
                      </ul>
                      <p>Running on our data:</p>
                      <pre><code>gdalwarp -t_srs EPSG:<span class="hljs-number">3857</span> -r BILINEAR unwrap<span class="hljs-class">.tif</span> mercator<span class="hljs-class">.tif</span></code></pre>
                      <p>We should see the input data projected to the web mercator projection:</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12313499/cd5c8de4-ba1c-11e5-8ddc-dc884dd94291.png" alt="image"></p>
                      <h4><a id="Colorize_PWAT_110"></a>Colorize PWAT</h4>
                      <p>Right now, our tif contains cell values that correspond to units of precipitable water units (kg/m<sup>2</sup>). In order to utilize this on a web map, we need to convert these values into color values (RGB). We&#39;ll do this using a tool designed for creating <a href="https://en.wikipedia.org/wiki/Hypsometric_tints">hypsometric tints</a>, <a href="http://www.gdal.org/gdaldem.html"><code>gdaldem color-relief</code></a>. This tool takes a color ramp file that maps input data values to red, green, and blue color values. Here&#39;s the ramp that we used:</p>
                      <pre><code><span class="hljs-number">10.0</span> <span class="hljs-number">47</span> <span class="hljs-number">31</span> <span class="hljs-number">45</span>
<span class="hljs-number">18.0</span> <span class="hljs-number">63</span> <span class="hljs-number">48</span> <span class="hljs-number">68</span>
<span class="hljs-number">26.0</span> <span class="hljs-number">76</span> <span class="hljs-number">68</span> <span class="hljs-number">94</span>
<span class="hljs-number">34.0</span> <span class="hljs-number">85</span> <span class="hljs-number">90</span> <span class="hljs-number">120</span>
<span class="hljs-number">42.0</span> <span class="hljs-number">90</span> <span class="hljs-number">113</span> <span class="hljs-number">146</span>
<span class="hljs-number">50.0</span> <span class="hljs-number">91</span> <span class="hljs-number">137</span> <span class="hljs-number">171</span>
<span class="hljs-number">58.0</span> <span class="hljs-number">87</span> <span class="hljs-number">163</span> <span class="hljs-number">194</span>
<span class="hljs-number">66.0</span> <span class="hljs-number">79</span> <span class="hljs-number">189</span> <span class="hljs-number">214</span>
<span class="hljs-number">74.0</span> <span class="hljs-number">70</span> <span class="hljs-number">216</span> <span class="hljs-number">231</span>
<span class="hljs-number">82.0</span> <span class="hljs-number">64</span> <span class="hljs-number">244</span> <span class="hljs-number">244</span></code></pre>
                      <p>The first column is the data (PWAT) value, and the second, third, and fourth are the red, green, and blue values that this should be mapped to. Anything in-between is interpolated. You can generate your own color ramp - We recommend <a href="http://tristen.ca/hcl-picker/#/hlc/6/1/21313E/EFEE69">http://tristen.ca/hcl-picker/#/hlc/6/1/21313E/EFEE69</a> (you&#39;ll have to convert from color hex code) or <a href="http://colorbrewer2.org/">http://colorbrewer2.org/</a>.</p>
                      <p>Save this ramp to a text file <code>color-ramp.txt</code>. Here is the command:</p>
                      <pre><code>gdaldem <span class="hljs-attribute">color</span>-relief &lt;input&gt;<span class="hljs-class">.tif</span> &lt;<span class="hljs-attribute">color</span> ramp&gt;<span class="hljs-class">.txt</span> &lt;output&gt;<span class="hljs-class">.tif</span></code></pre>
                      <p>Running on our data:</p>
                      <pre><code>gdaldem <span class="hljs-attribute">color</span>-relief mercator<span class="hljs-class">.tif</span> <span class="hljs-attribute">color</span>-ramp<span class="hljs-class">.txt</span> <span class="hljs-attribute">color</span><span class="hljs-class">.tif</span></code></pre>
                      <p>Now, you should have a color <code>tif</code> of your input data:</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12313587/ac86d808-ba1d-11e5-9405-e1597f9db8a6.png" alt="image"></p>
                  </section>

                  <section id="step4">
                      <h2 class="subsection"><a id="Part_4_Upload_and_incorporate_into_a_Map_145"></a>Step 4: Upload and incorporate into a Map</h2>
                      <p>We&#39;ll be using <a href="https://www.mapbox.com/mapbox-studio/">Mapbox Studio</a> to upload and integrate our colorized PWAT data with basemap data. If at any point you become lost, refer back to the <a href="https://www.mapbox.com/help/getting-started-mapbox-studio-1/">&#34;Getting Started with Mapbox Studio&#34; Guide</a>. You&#39;ll need to make an account to use Studio.</p>
                      <h4><a id="Upload_the_colorized_PWAT_tif_149"></a>Upload the colorized PWAT tif</h4>
                      <p>We need to upload our colorized PWAT data to a Mapbox Studio dataset in order to integrate it into a style. In the data tab, click the &#34;New dataset&#34; button to upload - detailed instructions here: <a href="https://www.mapbox.com/help/getting-started-mapbox-studio-1/#upload-a-dataset">https://www.mapbox.com/help/getting-started-mapbox-studio-1/#upload-a-dataset</a></p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12629107/2dd80f7a-c4fb-11e5-94d4-f1106b8fbf78.png" alt="image"></p>
                      <h4><a id="Integrate_into_a_map_style_155"></a>Integrate into a map style</h4>
                      <p>After the upload is finished processing we can add this dataset to a style. For the color scheme I chose above, the &#34;dark&#34; template is a good starting point. In the Styles tab, click &#34;New style&#34;, and select the Dark template:</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12629165/7d13d696-c4fb-11e5-8576-f8eeb5dbb295.png" alt="image"></p>
                      <p>Detailed instructions here: <a href="https://www.mapbox.com/help/getting-started-mapbox-studio-1/#create-a-new-style">https://www.mapbox.com/help/getting-started-mapbox-studio-1/#create-a-new-style</a></p>
                      <p>Now, let&#39;s add our dataset to this new style. Click on Add new layer, --&gt; Select a dataset, then navigate to and click on your uploaded data.</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12629362/720815a4-c4fc-11e5-8649-f28c060239f3.png" alt="image"></p>
                      <p>Clicking &#34;Create&#34; layer will then add this dataset as the top layer in your style. It should be added as the uppermost layer.</p>
                      <h4><a id="Stylize_the_map_169"></a>Stylize the map</h4>
                      <p>This is the fun part! Let&#39;s first move this layer below labels, borders, but above water, terrain and landcover. Click and drag to the desired position. You&#39;ll now see labels, borders, and other features as you zoom into the map.</p>
                      <p>Now, let&#39;s make this layer slightly transparent and allow the water areas to slightly show through. Click on the layer, then change the opacity to ~ 0.5. You can also slightly bump the brightness to help the layer pop.</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12630131/c61ca2ba-c4ff-11e5-9671-45bffd80d0e2.png" alt="image"></p>
                      <p>If you are satisfied with your style, you are done! Click publish, and your map is ready to be shared. Alternatively, keep tweaking the style - every element in the map from labels, to landcover, to the terrain style can be manipulated.</p>
                      <h4><a id="Sharing_your_map_179"></a>Sharing your map</h4>
                      <p>From the Home tab of Mapbox Studio, click on your published map.</p>
                      <p><img src="https://cloud.githubusercontent.com/assets/5084513/12630295/a4940858-c500-11e5-8461-de7d118e54f3.png" alt="image"></p>
                      <p>To share, copy the share link in the bottom left of the page. Here&#39;s a live map: <a href="https://api.mapbox.com/styles/v1/dnomadb/cijqefqgn005h90lxxe5dygmn.html?title=true&amp;access_token=pk.eyJ1IjoiZG5vbWFkYiIsImEiOiJEak5aTXdZIn0.UtQIRl-MzHHZk6TIAHSWww#1.22/21.6/23.5">https://api.mapbox.com/styles/v1/dnomadb/cijqefqgn005h90lxxe5dygmn.html?title=true&amp;access_token=pk.eyJ1IjoiZG5vbWFkYiIsImEiOiJEak5aTXdZIn0.UtQIRl-MzHHZk6TIAHSWww#1.22/21.6/23.5</a></p>
                          <img src="img/endshot.png" alt="final"/>
                  </section>

                  <section id="conclusion">
                      <br/><p>In part one of this tutorial, we&#39;ve taken a raw grib2 file from the NOAA NOMADS site, and transformed the data into a striking map showing atmospheric rivers across the world. The basics in opening, manipulating, and using the data can be applied broadly across potential applications.  Stay tuned for Part 2 of the tutorial where we&#39;ll manipulate this data into an animated, interactive map. For a preview, check out: <a href="https://www.mapbox.com/blog/animated-atmospheric-water/">https://www.mapbox.com/blog/animated-atmospheric-water/</a></p>
                  </section>

                </div><!-- Content -->

                <div id='sidebar' class="hidden-xs hidden-sm col-lg-2 col-md-2"><!-- Sidebar -->
                           
                  <ul id='featured-nav' class="nav nav-list featured-nav nav-stacked">
                          
                            
                    <li>
                      <ul class="fa-style"><!-- Font Awesome -->
                         <!-- <li><a href="https://github.com/CommerceDataService/tutorial_ms_powerbi"><i class="fa fa-file-archive-o fa-lg"></i></a></li>
                          <li><a href="https://github.com/CommerceDataService/tutorial_ms_powerbi"><i class="fa fa-file-code-o fa-lg"></i></a></li>
                          <li><a href="https://github.com/CommerceDataService/tutorial_ms_powerbi"><i class="fa fa-github-square fa-lg"></i></a></li>-->
                      </ul>
                    </li>
                    <li>
                        
                    </li>
                    <li>
                        <ul class="fa-style"><!-- Font Awesome -->
                            <!--<li><a href="https://github.com/CommerceDataService/tutorial_ms_powerbi"><i class="fa fa-file-archive-o fa-lg"></i></a></li>
                            <li><a href="https://github.com/CommerceDataService/tutorial_ms_powerbi"><i class="fa fa-file-code-o fa-lg"></i></a></li>
                            <li><a href="https://github.com/CommerceDataService/tutorial_ms_powerbi" title="Github Repo for MS Power BI Part 1"><i class="fa fa-github-square fa-lg"></i></a></li>-->
                        </ul>
                    </li>
                    <li>
                        <ul class="fa-style"><!-- Font Awesome -->
                            <li><a href="https://github.com/CommerceDataService/tutorial_mapbox_part1" title="Github Repo"><i class="fa fa-github-square fa-lg"></i></a></li>
                            <li><a href="https://github.com/CommerceDataService/tutorial_mapbox_part1/zipball/master"  title="ZIP Ball"><i class="fa fa-file-code-o fa-lg"></i></a></li>
                            
                            <!--<li><a href=""><i class="fa fa-linkedin-square fa-lg"></i></a></li>
                            <li><a href=""><i class="fa fa-facebook-square fa-lg"></i></a></li>-->
                        </ul>
                    </li>
                    <li><a href="#intro">INTRODUCTION</a></li>
                    <li><a href="#code">GETTING STARTED</a></li>
                    <li><a href="#step1">STEP 1: PRELIMINARIES</a></li>
                    <li><a href="#step2">STEP 2: GET THE DATA</a></li>
                    <li><a href="#step3">STEP 3: GEOPROCESSING</a></li>
                    <li><a href="#step4">STEP 4: UPLOAD AND INCORPORATE</a></li>
                    <!--<li><a href="#conclusion">CONCLUSION</a></li>-->


                  </ul>
              </div><!-- Sidebar -->
            </div>

  </div>

<div id ="story" class="container-fluid main-container">

</body>

</html>
